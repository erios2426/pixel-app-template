<script>
  // (function() {
  //   var appId = "{{settings.gtmId}}";
  //   if (!appId) {
  //     console.error('Warning: No APP NAME ID is defined. Please configure it in the apps admin.');
  //     return
  //   }

 const dfLayerOptions = {
    installationId: '2c4326bb-5e30-45c4-b3a8-a0da0908d736',
     zone: 'us1'
   };
   (function (l, a, y, e, r, s) {
     r = l.createElement(a); r.onload = e; r.async = 1; r.src = y;
     s = l.getElementsByTagName(a)[0]; s.parentNode.insertBefore(r, s);
   })(document, 'script', 'https://cdn.doofinder.com/livelayer/1/js/loader.min.js', function () {
     doofinderLoader.load(dfLayerOptions);
  });

// URL base
const baseUrl = 'https://titan.com.pa/whatsapp'
//'https://titan.com.pa/whatsapp';
// Obtener los valores actuales del navegador
const currentURL = window.location.href;
const pageTitle = document.title;
// Crear los parámetros UTM
const utmParams = {
  utm_source: currentURL,
  utm_medium: 'boton_whatsapp',
  utm_campaign: 'leads_ecommerce',
  utm_term: pageTitle,
  utm_content: pageTitle, // utm_content con el mismo valor que utm_term por el momento
};
// Construir la cadena de consulta con los parámetros UTM
const queryString = Object.entries(utmParams)
  .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)
  .join('&');
// Construir la URL final con los parámetros UTM
const finalURL = `${baseUrl}?${queryString}`;
// Modificar el atributo href del elemento <a> con la clase titan-home-0-x-whatsappLink
const whatsappLink = document.querySelector('a.titan-home-0-x-whatsappLink');
console.log(whatsappLink,`Holaaaaa`);
if (whatsappLink) {
  whatsappLink.href = finalURL;
}

    // Add script here
  // })()
</script>
